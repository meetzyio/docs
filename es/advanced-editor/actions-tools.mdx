---
title: 'Acciones y Herramientas'
description: 'Configura transferencias, finalizaci√≥n de llamadas, webhooks y automatizaciones avanzadas'
icon: 'wrench'
---

## Resumen

La secci√≥n de Acciones y Herramientas te permite configurar qu√© puede hacer tu agente durante y despu√©s de las llamadas. Esto incluye transferir llamadas por tel√©fono o SIP, finalizar conversaciones autom√°ticamente, crear webhooks personalizados y configurar protocolos de seguimiento automatizado.

<Info>
Esta secci√≥n incluye funcionalidades avanzadas que potencian significativamente las capacidades de tu agente conversacional.
</Info>

## Transferencia de Llamadas

Configura c√≥mo tu agente maneja las transferencias de llamada a agentes humanos, extensiones internas o sistemas telef√≥nicos externos.

### Tipos de Transferencia

Meetzy soporta dos tipos principales de transferencia:

<Tabs>
  <Tab title="N√∫mero de Tel√©fono">
    Transferir a n√∫meros de tel√©fono tradicionales (m√≥vil, fijo, internacional).
    
    **Formato**: `+1234567890`
    
    **Casos de uso**:
    - Transferir a agentes de soporte
    - Conectar con departamentos espec√≠ficos
    - Escalar a supervisores
  </Tab>
  <Tab title="SIP Trunk">
    Transferir a trav√©s de protocolo SIP para sistemas telef√≥nicos empresariales.
    
    **Formato**: `sip:extensi√≥n@gateway_ip:puerto`
    
    **Ejemplo**: `sip:100@78.136.102.246:5060`
    
    **Casos de uso**:
    - Transferir a extensiones internas
    - Conectar con sistemas PBX
    - Integrar con infraestructura VoIP existente
  </Tab>
</Tabs>

### Configuraci√≥n de Transferencia

<Steps>
  <Step title="Activar Transferencia">
    Habilita la opci√≥n de transferencia de llamadas usando el toggle en la interfaz.
  </Step>
  <Step title="Seleccionar Tipo">
    Elige entre "N√∫mero de Tel√©fono" o "SIP Trunk" seg√∫n tu infraestructura.
  </Step>
  <Step title="Configurar Destino">
    Introduce el n√∫mero de tel√©fono o URI SIP de destino.
  </Step>
  <Step title="Definir Prompt">
    Establece las condiciones que deben activar la transferencia.
  </Step>
</Steps>

### Plantillas de Transferencia

El sistema incluye plantillas predefinidas para diferentes idiomas:

<Tabs>
  <Tab title="Espa√±ol">
    ```text
    Se usa para transferir la llamada con una persona en los casos que se indican:
    
    - El usuario rechaza directamente la propuesta o servicio
    - El usuario solicita expresamente hablar con una persona humana
    - El usuario muestra desconfianza hacia el asistente virtual
    - Se necesita informaci√≥n espec√≠fica no disponible en el sistema
    - Se requiere autorizaci√≥n o gesti√≥n de datos personales sensibles
    ```
  </Tab>
  <Tab title="Ingl√©s">
    ```text
    Used to transfer the call to a person in the following cases:
    
    - The user directly rejects the proposal or service
    - The user expressly requests to speak with a human person
    - The user shows distrust towards the virtual assistant
    - Specific information is needed that is not available in the system
    - User requires authorization or management of sensitive personal data
    ```
  </Tab>
  <Tab title="Franc√©s">
    ```text
    Utilis√© pour transf√©rer l'appel √† une personne dans les cas suivants:
    
    - L'utilisateur rejette directement la proposition ou le service
    - L'utilisateur demande express√©ment √† parler avec une personne humaine
    - L'utilisateur montre de la m√©fiance envers l'assistant virtuel
    - Des informations sp√©cifiques sont n√©cessaires qui ne sont pas disponibles
    - L'utilisateur n√©cessite une autorisation ou gestion de donn√©es sensibles
    ```
  </Tab>
</Tabs>

## Estrategia de Finalizaci√≥n de Llamada

Configura c√≥mo y cu√°ndo tu agente debe finalizar autom√°ticamente las conversaciones.

### Detecci√≥n de Contestador Autom√°tico

Una funcionalidad clave es la detecci√≥n autom√°tica de contestadores telef√≥nicos:

<Warning>
La detecci√≥n de contestadores autom√°ticos es crucial para evitar conversaciones innecesarias y optimizar recursos.
</Warning>

#### Frases Detectadas Comunes

El sistema reconoce estas frases t√≠picas de contestadores:

- "En este momento no podemos atenderle"
- "Deje su mensaje despu√©s de la se√±al"
- "El n√∫mero al que llama..."
- "Ha llamado al..."
- "Este es el contestador de..."
- "Gracias por llamar, en estos momentos..."
- "Bienvenido al buz√≥n de voz de..."

### Otras Condiciones de Finalizaci√≥n

Adem√°s de contestadores autom√°ticos, el agente finalizar√° llamadas cuando:

- El usuario se despida de forma clara
- El agente complete su despedida
- Se cumplan objetivos espec√≠ficos de la conversaci√≥n
- Se agote el tiempo m√°ximo configurado

### Plantillas de Finalizaci√≥n por Idioma

<Tabs>
  <Tab title="Espa√±ol">
    Incluye detecci√≥n espec√≠fica de frases como:
    - "Puedes dejar tu mensaje al o√≠r la se√±al"
    - "Lo sentimos, pero en estos momentos..."
    - "Por favor, int√©ntelo de nuevo m√°s tarde"
  </Tab>
  <Tab title="Ingl√©s">
    Detecta frases como:
    - "Please leave your message after the tone"
    - "We're sorry, but at this time..."
    - "Please try again later"
  </Tab>
  <Tab title="Otros Idiomas">
    Soporta detecci√≥n en franc√©s, alem√°n, italiano y portugu√©s con patrones espec√≠ficos para cada idioma.
  </Tab>
</Tabs>

## Herramientas Webhook Personalizadas

Crea integraciones personalizadas con sistemas externos mediante webhooks que tu agente puede activar durante las conversaciones.

### Creando una Herramienta Webhook

<Steps>
  <Step title="A√±adir Nueva Herramienta">
    Haz clic en "A√±adir Herramienta Webhook" para crear una nueva integraci√≥n personalizada.
  </Step>
  <Step title="Configurar Informaci√≥n B√°sica">
    - **Nombre**: Identificador √∫nico de la herramienta
    - **Descripci√≥n**: Explica cu√°ndo y por qu√© la IA debe usar esta herramienta
  </Step>
  <Step title="Establecer Endpoint">
    - **URL**: Endpoint que recibir√° la petici√≥n HTTP
    - **M√©todo**: Selecciona GET, POST, PUT, PATCH o DELETE
  </Step>
  <Step title="Configurar Par√°metros">
    Define par√°metros de query string y/o campos del cuerpo de la petici√≥n.
  </Step>
  <Step title="Ajustar Configuraci√≥n Avanzada">
    Configura timeouts, interrupciones y modo de ejecuci√≥n.
  </Step>
</Steps>

### Tipos de Par√°metros

Cada par√°metro webhook puede configurarse con:

| Propiedad | Descripci√≥n | Opciones |
|----------|-------------|----------|
| Identificador | Nombre del par√°metro | string √∫nico |
| Tipo de Dato | Formato del valor | string, number, boolean, integer, array, object |
| Requerido | Si es obligatorio | true/false |
| Descripci√≥n | Contexto para la IA | texto descriptivo |
| Tipo de Valor | Origen del dato | llm_prompt (IA genera), static (valor fijo) |

### Configuraci√≥n Avanzada de Webhooks

#### Control de Interrupciones

<Info>
Controla si el agente puede ser interrumpido mientras espera la respuesta del webhook.
</Info>

- **Deshabilitar Interrupciones**: El agente no puede ser interrumpido durante la ejecuci√≥n
- **Permitir Interrupciones**: El usuario puede interrumpir mientras se procesa la petici√≥n

#### Modo de Ejecuci√≥n

| Modo | Descripci√≥n | Caso de Uso |
|------|-------------|-------------|
| **Inmediato** | Ejecuta durante la conversaci√≥n | Consultas de datos, validaciones |
| **Diferido** | Ejecuta despu√©s de la llamada | Logs, notificaciones, actualizaciones CRM |

#### Configuraci√≥n de Audio

- **Sonido de Herramienta**: Reproduce sonido de "tecleado" durante la ejecuci√≥n
- **Comportamiento**: Autom√°tico o manual
- **Forzar S√≠ntesis Previa**: Asegura que el agente termine de hablar antes de ejecutar

### Ejemplos Pr√°cticos de Webhooks

<Tabs>
  <Tab title="Integraci√≥n CRM">
    ```json
    {
      "name": "crear_lead_salesforce",
      "description": "Crear lead en Salesforce cuando cliente muestra inter√©s en producto",
      "api_schema": {
        "url": "https://api.salesforce.com/leads",
        "method": "POST",
        "request_body_schema": {
          "type": "object",
          "required": ["email", "company"],
          "properties": {
            "email": {
              "type": "string",
              "description": "Email del prospecto"
            },
            "company": {
              "type": "string", 
              "description": "Nombre de la empresa"
            },
            "phone": {
              "type": "string",
              "description": "Tel√©fono de contacto"
            },
            "interest_level": {
              "type": "string",
              "enum": ["Alto", "Medio", "Bajo"]
            }
          }
        }
      },
      "response_timeout_secs": 15,
      "execution_mode": "immediate"
    }
    ```
  </Tab>
  <Tab title="Consulta de Inventario">
    ```json
    {
      "name": "consultar_inventario",
      "description": "Verificar disponibilidad de productos en tiempo real",
      "api_schema": {
        "url": "https://api.mitienda.com/inventory/check",
        "method": "GET",
        "query_params_schema": {
          "properties": {
            "product_id": {
              "type": "string",
              "description": "ID del producto a consultar"
            },
            "location": {
              "type": "string", 
              "description": "C√≥digo de sucursal"
            }
          },
          "required": ["product_id"]
        }
      },
      "disable_interruptions": true,
      "execution_mode": "immediate"
    }
    ```
  </Tab>
  <Tab title="Programar Cita">
    ```json
    {
      "name": "programar_cita_medica",
      "description": "Programar cita m√©dica con disponibilidad en tiempo real",
      "api_schema": {
        "url": "https://api.clinica.com/appointments",
        "method": "POST",
        "request_body_schema": {
          "type": "object",
          "required": ["patient_name", "preferred_date", "service_type"],
          "properties": {
            "patient_name": {
              "type": "string",
              "description": "Nombre completo del paciente"
            },
            "patient_phone": {
              "type": "string",
              "description": "Tel√©fono del paciente"
            },
            "preferred_date": {
              "type": "string",
              "description": "Fecha preferida formato YYYY-MM-DD"
            },
            "service_type": {
              "type": "string",
              "enum": ["Consulta General", "Especialidad", "Urgencia"]
            }
          }
        }
      },
      "response_timeout_secs": 20,
      "tool_call_sound": "typing"
    }
    ```
  </Tab>
</Tabs>

## Protocolo de Rellamada (Recall)

Configura llamadas de seguimiento autom√°ticas cuando no se cumplen ciertas condiciones o objetivos de la conversaci√≥n inicial.

### Configuraci√≥n de Recall

<Steps>
  <Step title="Habilitar Protocolo">
    Activa el sistema de rellamadas autom√°ticas desde la interfaz.
  </Step>
  <Step title="Definir Intentos M√°ximos">
    Establece el n√∫mero m√°ximo de intentos de rellamada (recomendado: 2-3).
  </Step>
  <Step title="Configurar Intervalos">
    Define los intervalos entre cada intento de rellamada.
  </Step>
  <Step title="Establecer Condiciones">
    Especifica qu√© condiciones deben activar una rellamada.
  </Step>
</Steps>

### Intervalos de Rellamada

| Intervalo | Caso de Uso | Ejemplo |
|-----------|-------------|---------|
| **5-15 minutos** | L√≠nea ocupada, respuesta inmediata necesaria | Emergencias, confirmaciones urgentes |
| **30 minutos - 1 hora** | No contest√≥, seguimiento en mismo d√≠a | Citas m√©dicas, servicios urgentes |
| **2-4 horas** | Seguimiento comercial | Ventas, ofertas con tiempo limitado |
| **Siguiente d√≠a h√°bil** | Seguimiento profesional | Propuestas comerciales, informaci√≥n general |

### Condiciones de Recall

Ejemplos de condiciones que pueden activar rellamadas:

- No se obtuvo respuesta (contestador o sin respuesta)
- L√≠nea ocupada
- No se complet√≥ el objetivo de la conversaci√≥n
- Cliente solicit√≥ ser contactado m√°s tarde
- Informaci√≥n pendiente de confirmaci√≥n

<Warning>
Usa protocolos de rellamada responsablemente. Demasiados callbacks pueden molestar a los clientes y violar regulaciones de telecomunicaciones. Siempre respeta las listas de "No Llamar" y las preferencias del cliente.
</Warning>

### Mejores Pr√°cticas para Recall

1. **L√≠mite de Intentos**: No m√°s de 3 intentos para evitar molestias
2. **Intervalos Progresivos**: Aumenta el tiempo entre intentos
3. **Horarios Apropiados**: Respeta horarios comerciales y zonas horarias
4. **Condiciones Claras**: Define exactamente cu√°ndo activar recalls
5. **Registro de Intentos**: Mant√©n log de todos los intentos realizados

## Pr√≥ximamente

Nuevas integraciones y funcionalidades en desarrollo:

<Tabs>
  <Tab title="Comunicaci√≥n">
    | Caracter√≠stica | Descripci√≥n | Estado |
    |---------|-------------|--------|
    | üìß **Env√≠o de Email** | Enviar emails durante o despu√©s de llamadas | Pr√≥ximamente |
    | üí¨ **SMS Autom√°tico** | Enviar mensajes de texto a clientes | Pr√≥ximamente |
    | üì± **WhatsApp Business** | Integraci√≥n con WhatsApp Business API | Pr√≥ximamente |
  </Tab>
  <Tab title="Integraciones">
    | Caracter√≠stica | Descripci√≥n | Estado |
    |---------|-------------|--------|
    | üè¢ **CRM Nativo** | Conectores directos para CRMs populares | Pr√≥ximamente |
    | üìä **Analytics Avanzado** | Dashboards y m√©tricas detalladas | Pr√≥ximamente |
    | üîê **SSO Enterprise** | Single Sign-On para empresas | Pr√≥ximamente |
  </Tab>
  <Tab title="IA Avanzada">
    | Caracter√≠stica | Descripci√≥n | Estado |
    |---------|-------------|--------|
    | üß† **An√°lisis de Sentimiento** | Detecci√≥n autom√°tica de emociones | Pr√≥ximamente |
    | üéØ **Personalizaci√≥n IA** | Adaptaci√≥n autom√°tica por cliente | Pr√≥ximamente |
    | üìà **Optimizaci√≥n Predictiva** | Mejoras autom√°ticas de rendimiento | Pr√≥ximamente |
  </Tab>
</Tabs>

## Mejores Pr√°cticas Generales

### Para Webhooks

1. **Descripciones Detalladas**: Escribe descripciones claras para que la IA sepa exactamente cu√°ndo usar cada herramienta
2. **Manejo de Errores**: Implementa respuestas de error apropiadas que el agente pueda comunicar al usuario
3. **Timeouts Realistas**: Configura timeouts apropiados para tu infraestructura (15-30 segundos)
4. **Seguridad**: Usa autenticaci√≥n y headers seguros para APIs sensibles
5. **Testing**: Prueba exhaustivamente cada webhook antes del despliegue

### Para Transferencias

1. **N√∫meros de Backup**: Configura n√∫meros alternativos por si la l√≠nea principal est√° ocupada
2. **Contexto Claro**: Aseg√∫rate de que el agente receptor tenga toda la informaci√≥n necesaria
3. **Horarios de Atenci√≥n**: Considera los horarios de disponibilidad de agentes humanos
4. **Escalaci√≥n Gradual**: Define niveles de escalaci√≥n (soporte ‚Üí supervisor ‚Üí gerente)

### Para Recalls

1. **Cumplimiento Legal**: Respeta todas las regulaciones locales de telecomunicaciones
2. **Opt-out F√°cil**: Permite que los usuarios se den de baja f√°cilmente
3. **Segmentaci√≥n**: Usa diferentes estrategias seg√∫n el tipo de cliente o prop√≥sito
4. **Monitoreo**: Rastrea tasas de √©xito y ajusta estrategias seg√∫n resultados

## Soluci√≥n de Problemas Comunes

<Tabs>
  <Tab title="Transferencias">
    **Problema**: La transferencia no se ejecuta
    
    **Soluciones**:
    - Verificar formato del n√∫mero o URI SIP
    - Confirmar que el destino est√° disponible
    - Revisar permisos de transferencia
    - Validar configuraci√≥n del prompt de transferencia
  </Tab>
  <Tab title="Webhooks">
    **Problema**: El webhook no responde
    
    **Soluciones**:
    - Verificar conectividad del endpoint
    - Revisar autenticaci√≥n y headers
    - Comprobar formato de par√°metros
    - Aumentar timeout si es necesario
    - Validar certificados SSL
  </Tab>
  <Tab title="Recalls">
    **Problema**: Las rellamadas no se ejecutan
    
    **Soluciones**:
    - Verificar condiciones de activaci√≥n
    - Confirmar configuraci√≥n de intervalos
    - Revisar l√≠mites de intentos
    - Validar n√∫meros de tel√©fono
    - Comprobar horarios permitidos
  </Tab>
</Tabs>

## Siguientes Pasos

<Info>
Una vez configuradas las acciones y herramientas, puedes personalizar a√∫n m√°s tu agente con par√°metros din√°micos y configuraci√≥n de salida avanzada.
</Info>

<CardGroup cols={2}>
  <Card
    title="Par√°metros de Entrada"
    icon="arrow-right-to-bracket"
    href="/es/advanced-editor/input-params"
  >
    Configura variables din√°micas y personalizaci√≥n
  </Card>
  <Card
    title="Configuraci√≥n de Salida"
    icon="arrow-right-from-bracket"
    href="/es/advanced-editor/output-settings"
  >
    Define extracci√≥n de datos y webhooks de salida
  </Card>
</CardGroup>